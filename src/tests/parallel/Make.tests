# -*- makefile -*-

tests/%.output: FILESYSSOURCE = --filesys-size=2
tests/%.output: PUTFILES = $(filter-out kernel.bin loader.bin, $^)

tests/parallel_TESTS = $(addprefix tests/parallel/, \
create-join thread-local-var sbrk-simple malloc-simple \
)

tests/parallel/create-join_SRC = tests/parallel/create-join.c tests/lib.c \
tests/main.c
tests/parallel/thread-local-var_SRC = tests/parallel/thread-local-var.c tests/lib.c \
tests/main.c
tests/parallel/sbrk-simple_SRC = tests/parallel/sbrk-simple.c tests/lib.c \
tests/main.c
tests/parallel/malloc-simple_SRC = tests/parallel/malloc-simple.c tests/lib.c \
tests/main.c

tests/parallel_PROGS = $(tests/parallel_TESTS)
tests/parallel_PROGS += $(addprefix tests/parallel, \
)
