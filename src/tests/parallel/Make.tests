# -*- makefile -*-

tests/%.output: FILESYSSOURCE = --filesys-size=2
tests/%.output: PUTFILES = $(filter-out kernel.bin loader.bin, $^)

tests/parallel_TESTS = $(addprefix tests/parallel/, \
create-join thread-local \
locks \
sbrk-simple malloc-simple \
merge-sort \
)

tests/parallel/create-join_SRC = tests/parallel/create-join.c tests/lib.c \
tests/main.c
tests/parallel/thread-local_SRC = tests/parallel/thread-local.c tests/lib.c \
tests/main.c
tests/parallel/locks_SRC = tests/parallel/locks.c tests/lib.c \
tests/main.c
tests/parallel/sbrk-simple_SRC = tests/parallel/sbrk-simple.c tests/lib.c \
tests/main.c
tests/parallel/malloc-simple_SRC = tests/parallel/malloc-simple.c tests/lib.c \
tests/main.c
tests/parallel/merge-sort_SRC = tests/parallel/merge-sort.c tests/lib.c \
tests/main.c

tests/parallel_PROGS = $(tests/parallel_TESTS)
tests/parallel_PROGS += $(addprefix tests/parallel, \
)
